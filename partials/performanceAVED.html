<div ng-controller="perfAVEDcont">

    <div class="killme" ng-hide="false">
        <!-- {{message}}<br> -->

    <div ng-hide="isLogged()">
      <!-- <a href="">
        <div class="btn" ng-click="toggle('ADD')">
          Add&nbsp;<i class="fa fa-plus-square-o fa-2x"></i>
        </div>
      </a> -->
      <!-- <div class="btn" ng-click="toggle('VIEW')">View</div> -->
      <a href="">
        <div class="btn" id="performance-edit-btn" ng-show="editPowers" ng-click="toggle('EDIT')">
          EDIT&nbsp;<i class="fa fa-pencil-square fa-2x"></i>
        </div>
      </a>
      <a href ="">
        <div class="btn" id="performance-delete-btn" ng-show="editPowers" ng-click="deletePerformance()">
          Delete Performance&nbsp;<i class="fa fa-trash fa-2x"></i></i>
        </div>
      </a>
      </div><!--end islogged button bank-->
    </div>
<!--THIS IS FOR VIEWING THE HERO IMAGE AND INFO-->
  <div class="heroImgContainer">
    <img src="assets/images/lesmis-2.jpg" class ="heroImg">
    <div class ="heroImgWordsContainer" ng-hide="tView">
      <div class="this-performance-names">
        <div class="this-performance-company-name">{{thisPerformance.company_name}} <div>presents</div></div>
        <div class="this-performance-name">{{thisPerformance.name}}</div>
      </div>
      <div class="performanceDescription" ng-hide="tView">
        {{thisPerformance.description}}
      </div>
      <div class="this-performance-link-wrapper">
        <div class="performance-genre-wrapper">
          <div class="AVED-genre" ng-hide="tView">
            Genre: {{thisPerformance.genre_id[0].category}}.
          </div>
        </div><!--
        --><div class="performance-trailer-wrapper">
          <a href="http://{{thisPerformance.trailer_link}}">
            <div class="AVED-trailer-link" ng-hide="tView">
              View Trailers
            </div>
          </a>
        </div><!--
        --><div class="performance-ticket-wrapper">
          <a href="{{thisPerformance.ticket_link}}">
            <div class="AVED-ticket-btn" ng-hide="tView">
              Buy Tickets!!
            </div>
          </a>
        </div>
      </div>
    </div>


<!--THIS IS FOR ADDING THE HERO IMAGE AND INFO-->
    <div class="heroImgWordsContainer edit-hero-Img-Words-Container" ng-hide="tAdd">
      <div class="this-performance-names">
        <span class="hero-img-create-dropdown-wrapper"></span>
        <span> presents </span><br>
        <input class="hero-img-performance-name" id="performance-name" placeholder="Performance Name" name="name">
      </div>
      <label class="edit-perf-desc-label" ng-hide="tAdd">Performance Description:</label>
      <textarea class="edit-performanceDescription" id="perf-desc" ng-hide="tAdd"></textarea>
      <div class="this-performance-link-wrapper">

        <div class="edit-genre-wrapper" ng-hide="tAdd">
          Genre:
          <select class="edit-AVED-genre" ng-hide="tAdd">
            <option selected disabled>Genre</option>
            <option value="1">Theatre</option>
            <option value ="2">Improv</option>
            <option value ="3">Dance</option>
            <option value ="4">Film</option>
          </select>
        </div>

        <div class="edit-AVED-trailer-link" ng-hide="tAdd">
          Trailer Link:
          <input class="edit-AVED-trailer-link-input" id="trailer-link" placeholder="Place Trailer Link Here" name="trailer_link">
        </div>

        <div class="edit-AVED-ticket-link" ng-hide="tAdd">
          Ticket Link:
          <input class="AVED-ticket-link" id="ticket-link" name="ticket_link" placeholder="Place Ticket Link Here">
        </div>
      </div> <!--End link container-->
      <div class="add-image-container">
        <label>Add Performance Background Image</label>
        <form action="https://thescenery.s3.amazonaws.com/" method="POST" enctype="multipart/form-data">
          <input type="hidden" name="key" value="uploads/PerfHero{{thisPerformance.id}}">
          <input type="hidden" name="AWSAccessKeyId" value="AKIAIOKFFWZFAUYDGXHQ">
          <input type="hidden" name="acl" value="public-read">
          <input type="hidden" name="policy" value="eyJleHBpcmF0aW9uIjogIjIwMTktMDEtMDFUMDA6MDA6MDBaIiwKICJjb25kaXRpb25zIjogWwogICB7ImJ1Y2tldCI6ICJ0aGVzY2VuZXJ5In0sCiAgIFsic3RhcnRzLXdpdGgiLCAiJGtleSIsICJ1cGxvYWRzLyJdLAogICB7ImFjbCI6ICJwdWJsaWMtcmVhZCJ9LAogICAKICAgWyJzdGFydHMtd2l0aCIsICIkQ29udGVudC1UeXBlIiwgIiJdCiBdCn0=">
          <input type="hidden" name="signature" value="4fVastxkguNyuyXVSysUNbR8DUQ=">
          <input type="hidden" name="Content-Type" value="$Content-Type">
          <!-- Include any additional input fields here U{{currUserId}} -->
          <input name="file" type="file" id="fileBtn2Add"><br>
          <br>
          <input type="submit" style="display:none;" id="imgSubmitBtn2Add" value="Upload File to S3">
        </form>
      </div>
    </div> <!-- End hero image words container-->
  </div>
  <!--this ends the adding-->

<!--THIS IS FOR EDITING THE HERO IMAGE AND INFO-->
  <div class="heroImgWordsContainer edit-hero-Img-Words-Container" ng-hide="tEdit">
    <div class="this-performance-names">
      <span class="hero-img-edit-dropdown-wrapper"></span>
      <span class="presents"> presents </span><br>
      <input class="hero-img-performance-name" id="performance-name-edit" placeholder="Performance Name" name="name" value="{{thisPerformance.name}}">
    </div>
    <label class="edit-perf-desc-label" ng-hide="tEdit">Performance Description:</label>
    <textarea class="edit-performanceDescription" id="perf-desc-edit" ng-hide="tEdit">{{thisPerformance.description}}</textarea>

    <div class="this-performance-link-wrapper">
      <div class="edit-genre-wrapper" ng-hide="tEdit">
        Genre:
        <select class="edit-AVED-genre-edit" ng-hide="tEdit">
          <option selected disabled>Genre</option>
          <option value="1">Theatre</option>
          <option value ="2">Improv</option>
          <option value ="3">Dance</option>
          <option value ="4">Film</option>
        </select>
      </div>
      <div class="edit-AVED-trailer-link" ng-hide="tEdit">
        Trailer Link:
        <input class="edit-AVED-trailer-link-input" id="trailer-link-edit" name="trailer_link" placeholder="Place Trailer Link Here" value="{{thisPerformance.trailer_link}}">
      </div>
      <div class="edit-AVED-ticket-link" ng-hide="tEdit">
        Ticket Link:
        <input class="AVED-ticket-link" id="ticket-link-edit" name="ticket_link" placeholder="Place Ticket Link Here" value="{{thisPerformance.ticket_link}}">
      </div>
    </div>
    <div class="add-image-container">
      <label>Add Performance Background Image</label>
      <form action="https://thescenery.s3.amazonaws.com/" method="POST" enctype="multipart/form-data">
        <input type="hidden" name="key" value="uploads/PerfHero{{thisPerformance.id}}">
        <input type="hidden" name="AWSAccessKeyId" value="AKIAIOKFFWZFAUYDGXHQ">
        <input type="hidden" name="acl" value="public-read">
        <input type="hidden" name="policy" value="eyJleHBpcmF0aW9uIjogIjIwMTktMDEtMDFUMDA6MDA6MDBaIiwKICJjb25kaXRpb25zIjogWwogICB7ImJ1Y2tldCI6ICJ0aGVzY2VuZXJ5In0sCiAgIFsic3RhcnRzLXdpdGgiLCAiJGtleSIsICJ1cGxvYWRzLyJdLAogICB7ImFjbCI6ICJwdWJsaWMtcmVhZCJ9LAogICAKICAgWyJzdGFydHMtd2l0aCIsICIkQ29udGVudC1UeXBlIiwgIiJdCiBdCn0=">
        <input type="hidden" name="signature" value="4fVastxkguNyuyXVSysUNbR8DUQ=">
        <input type="hidden" name="Content-Type" value="$Content-Type">
        <!-- Include any additional input fields here U{{currUserId}} -->
        <input name="file" type="file" id="fileBtn2Add"><br>
        <br>
        <input type="submit" style="display:none;" id="imgSubmitBtn2Add" value="Upload File to S3">
      </form>
    </div>
  </div>
  <!--this ends the editing-->

<!--BEGINS VIEWING SHOWTIMES-------------------------------------------------->
    <div class="evt-times" ng-hide="tView">
      <label class="AVED-label">Event Times</label>

      <ul class="AVED-events-holder" ng-repeat="show in thisPerformance.show_times">
        <li class="AVED-event">
          <div class="event-wrapper">
            <div class="drop-down-wrapper">
              <div class="event-info">
              {{show.show_date}}, at {{show.address}} {{show.city}}, {{show.state}}.
              </div>
            </div>
            <!-- hide casts for now since they aren't working -->
            <div class="event-adv">
              <div class="cast-wrapper">
                <label>Cast</label>
                <ul class="event-cast" ng-repeat="cast in show.cast_members">
                  <li class="cast-member"> <!--ADD ng-repeat!!!-->
                    {{cast.name}} as {{cast.role}}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </li><br><br>
      </ul><!-- end the ng-repeat in AVED-events-holder-->

    </div><!--end event times view container-->
    <!--end the viewing-->

<!--BEGIN EDITING THE SHOW TIMES----------------------------------------------->
<div class="edit-AVED-event-times-wrapper-edit" ng-hide="tEdit" >
  <div class="edit-AVED-event-times-header">
    <label>
      Event Times
    </label>
    <a href="">
      <span class="create-new-showtime">
        New Show Time <a href=""><i class="fa fa-plus-circle" ng-click="addNewShow(2)" style="padding-left: 10px;"></i></a>
      </span>
    </a>
  </div>
  <div class="EDIT-showtime-wrapper">
    <!--THIS STARTS THE SHOWTIME-->
    <div class="EDIT-showtime-info-wrapper" ng-repeat="show in thisPerformance.show_times">
      <div class="date-time-location-wrapper-EDIT">
        <input type="hidden" id="showtime-id" value="{{show.id}}">
        <label>Date: </label><input class="showtime-date-time" init-edit="show" type="text" value="{{show.show_date}}">
        <!-- <input class="EDIT-showtime-date-input" datetime-picker ng-model="showTimeDates" date-format="yyyy-MM-dd HH:mm Z" id="showtime-date-time" value="{{show.show_date | date : fullDate}}"> -->
        <label>Address: </label><input class="EDIT-showtime-address-input" id="showtime-address" placeholder="Address: ex. 123 Example Rd" value="{{show.address}}">
        <label>City: </label><input class="EDIT-showtime-city-input" id="showtime-city" placeholder="City" value="{{show.city}}"><br>
        <label>State: </label>
        <select class="EDIT-showtime-state-input" id="showtime-state">
          <option value="">Pick A State</option>
          <option value="NC" selected="selected">NC</option>
        </select><br>
        <label>Zip Code: </label><input class="EDIT-showtime-zip-input" id="showtime-zip" placeholder="Zip Code" value="{{show.zip_code}}">
        <div style="color: red;" class="removeShowtime">
          <input type="checkbox" class="deleteCheck" id="delete-check" value="true"><i class="fa fa-trash"></i>Delete This Showtime
        </div>
      </div>
      <!-- <div>
        Cast:
      </div>
      <div class ="all-cast-members">
        <div class="new-cast-member-wrapper" ng-repeat="cast in show.cast_members">
          <input class="new-cast-member-name" placeholder="Performer Name" value="{{cast.name}}">
          <span> As </span>
          <input class="new-cast-member-position" placeholder="Position/Title" value="{{cast.role}}">
        </div>
      </div>
      <a href="">
        <span class="add-performer">Add Performer <i class="fa fa-plus-circle"></i></span>
      </a> -->
    </div>
    <div class="newShowtimes">

    </div>
    <!--THIS ENDS THE SHOWTIME -->
  </div>
</div>
    <!--end the edit-->

<!--BEGIN VIEWING REVIEWS-->
    <div class="reviews" ng-hide="tView">
      <label class="AVED-label">Reviews</label>
      <div class="AVED-review-wrapper">
        <div class="AVED-new-review">
          <div class="review-img"><img src=""></div>
          <textarea class="new-review" id = "new-review"></textarea>
          <a href=""><div class="submit-review-btn" ng-click="submitreview()">Add Review</div></a>
        </div>
        <ul class="AVED-reviews-holder">
          <li class="AVED-review"  ng-repeat="review in thisPerformance.reviews" ng-click="toperformancereviewer()">
            <div class="review-wrapper">
              <div class="review-img"><img src=""></div>
              <div class="rnd-wrap">
                <a href="#/userprofile"><div class="review-name">{{review.display_name}}</div></a>
                <div class="review-date">{{review.created_at}}</div>
              </div>
              <div class="review-text">{{review.opinion}}</div>
            </div>
          </li>
        </ul>
      </div>
    </div>
    <!--end the viewing-->

<!--BEGIN ADDING SHOWTIMES--------------------------------------------------->
    <div class="edit-AVED-event-times-wrapper" ng-hide="tAdd">
      <div class="edit-AVED-event-times-header">
        <label>
          Event Times
        </label>
        <a href="">
          <div class="create-new-showtime">
            New Show Time <a href=""><i class="fa fa-plus-circle" ng-click="addNewShow(1)" style="padding-left: 10px;"></i></a>
          </div>
        </a>
      </div>
      <div class="new-showtime-wrapper">
        <!--THIS STARTS THE SHOWTIME-->
        <div class="new-showtime-info-wrapper">
          <div class="date-time-location-wrapper">
            <label>Date: </label><input id="showtime-date-time" class="showtime-date-time" type="text" >
            <!-- <input class="new-showtime-date-input" datetime-picker ng-model="showTimeDates" date-format="yyyy-MM-dd HH:mm Z" id="showtime-date-time"> -->
            <label>Address: </label><input class="new-showtime-address-input" id="showtime-address" placeholder="Address: ex. 123 Example Rd">
            <label>City: </label><input class="new-showtime-city-input" id="showtime-city" placeholder="City"><br>
            <label>State: </label><select class="new-showtime-state-input" id="showtime-state">
              <option value="">Pick A State</option>
              <option value="NC">NC</option>
            </select><br>
            <label>Zip Code</label><input class="new-showtime-zip-input" id="showtime-zip" placeholder="Zip Code">
          </div>
          <!-- <div>
            Cast:
          </div>
          <div class ="all-cast-members">
            <div class="new-cast-member-wrapper">
              <input class="new-cast-member-name" placeholder="Performer Name">
              <span> As </span>
              <input class="new-cast-member-position" placeholder="Position/Title">
            </div>
          </div>
          <a href="">
            <span class="add-performer">Add Performer <i class="fa fa-plus-circle"></i></span>
          </a> -->
        </div>
      </div><

        <!--THIS ENDS THE SHOWTIME -->
        <div class="Invisible-Showtime-wrapper" id="1" ng-hide="true">
          <div class="new-showtime-info-wrapper">
            <div class="date-time-location-wrapper">
              <input type="hidden" id="showtime-id">
              <label>Date: </label><input class="showtime-date-time" type="text" >
              <!-- <input class="new-showtime-date-input" datetime-picker ng-model="showTimeDates" date-format="yyyy-MM-dd HH:mm Z" id="showtime-date-time"> -->
              <label>Address: </label><input class="new-showtime-address-input" id="showtime-address" placeholder="Address: ex. 123 Example Rd">
              <label>City: </label><input class="new-showtime-city-input" id="showtime-city" placeholder="City"><br>
              <label>State: </label><select class="new-showtime-state-input" id="showtime-state">
                <option value="">Pick A State</option>
                <option value="NC">NC</option>
              </select></br>
              <label>Zip Code: </label><input class="new-showtime-zip-input" id="showtime-zip" placeholder="Zip Code">
              <div style="color: red;" class="removeShowtime">
                <input type="checkbox" class="deleteCheck" id="delete-check"><i class="fa fa-trash" ></i>Delete This Showtime
              </div>
            </div>
            <!-- <div>
              Cast:
            </div>
            <div class ="all-cast-members">
              <div class="new-cast-member-wrapper">
                <input class="new-cast-member-name" placeholder="Performer Name">
                <span> As </span>
                <input class="new-cast-member-position" placeholder="Position/Title">
              </div>
            </div>
            <a href="">
              <span class="add-performer">Add Performer <i class="fa fa-plus-circle"></i>
              </span>
            </a> -->

          </div>
        </div><!--end invisible showtime-->
      </div><!--end all the showtimes-->
    <!--end the showtimes ADD-->

      <div class="edit-add-performance-button-wrapper">

        <a href="">
          <div class="btn AVED-submit-button" id="create-performance"ng-click="addperformance()" ng-hide="tAdd">
            Create Performance
          </div>
        </a>
        <a href="#/company">
          <div class="btn AVED-submit-button" id="dont-create-performance" ng-click="toggle('VIEW')" ng-hide="tAdd">
            Dont Create
          </div>
        </a>

        <a href="">
          <div class="btn AVED-submit-button" id="update-performance" ng-click="updatePerformance();" ng-hide="tEdit">
            Update Performance
          </div>
        </a>
        <a href="">
          <div class="btn AVED-submit-button" id="discard-performance-changes" ng-click="toggle('VIEW')" ng-hide="tEdit">
            Discard Changes
          </div>
        </a>
      </div>


</div><!-- Ends Controller -->
